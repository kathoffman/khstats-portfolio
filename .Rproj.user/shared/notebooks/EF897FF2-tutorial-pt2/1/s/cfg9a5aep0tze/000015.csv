"0","generate_data <- function(n){ "
"0","    W1 <- rbinom(n, size=1, prob=0.2) # binary confounder"
"0","    W2 <- rbinom(n, size=1, prob=0.5) # binary confounder"
"0","    W3 <- round(runif(n, min=2, max=7)) # continuous confounder"
"0","    W4 <- round(runif(n, min=0, max=4)) # continuous confounder"
"0","    A  <- rbinom(n, size=1, prob= plogis(-0.2 + 0.2*W2 + log(0.1*W3) + 0.3*W4 + 0.2*W1*W4)) # binary treatment depends on confounders"
"0","    Y <- rbinom(n, size=1, prob= plogis(-1 + A - 0.1*W1 + 0.2*W2 + 0.3*W3 - 0.1*W4 + sin(0.1*W2*W4))) # binary outcome depends on confounders"
"0","    return(tibble(Y, W1, W2, W3, W4, A))"
"0","}"
"0",""
"0","n <- 1000"
"0","dat_obs <- generate_data(n) # generate a data set with n observations"
"0",""
"0","dat_obs %>%"
"0","  head() %>%"
"0","  gt() %>%"
"0","  tab_header(""Simulated data set."")"
